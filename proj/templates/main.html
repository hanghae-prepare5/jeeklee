<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" ,>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <title>OOTDGRAM</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>


<style>
    .all {


    }

    /*Î°úÍ≥†Ïó¨Î∞±*/
    .top {
        margin: 20px 20px 20px 20px;
        padding: 0px 0px 0px 0px;
        border-bottom: solid 2px whitesmoke;


    }

    /*Î°úÍ≥†*/
    .logo {
        color: gray;
        height: 60px;
        margin: auto;
        font-size: 35px;
        text-align: center;
        width: 400px;


    }

    /*Îí§Î°úÍ∞ÄÍ∏∞Î≤ÑÌäº*/
    .back-btn {
        border: 10px solid transparent;
        border-radius: 18px;
        font-size: 30px;
        position: fixed;
    }

    /*Ïú†Ï†ÄÏïÑÏù¥Îîî*/
    .userid {
        float: right;
        margin-right: 10%;
        margin-top: 50px;
        margin-left: 8px;
        font-size: 25px;
    }

    /*ÌîÑÎ°úÌïÑÎ≤ÑÌäº ÎßàÏù¥ÌéòÏù¥ÏßÄ Ïù¥Îèô */
    .profile {
        overflow: hidden;
        float: right;
        width: 135px;
        height: 135px;
        border-radius: 100%;
        border:none;


    }

    /*ÌîÑÎ°úÌïÑÏÇ¨ÏßÑ*/
    .profile-photo {

        width: 130px;

        height: 135px;

        color: red;

        object-fit: cover;
        border-radius: 100px;


    }


    /*ÏÇ¨Ïù¥Ïó¨Î∞±*/
    .middle {
        margin-bottom: 255px;

    }

    /*Ï†ïÎ†¨Î≤ÑÌäº*/
    .npbutton {

        margin-left: 125px;
        margin-bottom: 10px;
        margin-top: 10px;
        width: 95%;
    }

    /*Ï†ïÎ†¨Î≤ÑÌäº ÏÉÅÎã® Ï§Ñ*/
    .classificaftion {

        width: 100%;
        border-top: solid 2px whitesmoke;


    }

    /*Í≤åÏãúÎ≤ÑÌäº*/
    .upload {
        margin-left: 70%;


        background-color: white;

        border: none;
        font-size: 28px;
    }

    /*Í≤åÏãúÎ¨ºÎ∞ïÏä§*/
    .posts-box {



    }

    /*Í≤åÏãúÎ¨º*/
    .post {
        float: left;
        margin-right: 2%;
        margin-left: 8%;
        margin-top:15px;
        margin-bottom: 15px;
        display: flex;
        flex-wrap:wrap;





    }

    /*Ï¢ãÏïÑÏöîÎ≤ÑÌäº*/
    .like {
        border: none;
        background-color: white;
        margin-left: 90%;
        font-size: 23px;
    }

    /*Í≤åÏãúÎ¨ºÏÇ¨ÏßÑ*/
    .card {
        width: 530px;
        height: auto;


    }
    #noticepopup {
        position: absolute;
        width: 100%;
        height: 100%;
        display: none;
    }

    .black {
        background: rgba(0, 0, 0, 0.6);;
    }

    body {
        background-color: gray;
    }

    .noticespace {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .noticepost {

        width: 504px;
        max-height: 1000px;
        height: 100%;


        display: flex;
        flex-direction: column;
        justify-content: left;
        align-items: normal;

        border: 2px solid black;
        border-radius: 3%;
        margin: auto;

        background-color: white;
    }

    .noticeposttop {
        display: flex;
        flex-direction: row;
        justify-content: left;
        align-items: center;

        margin: 10px;
    }


    .noticeprofile {
        width: 70px;
        height: 70px;

        border-radius: 100%;
        border: 1px solid black;


        background-position: center;
        background-size: cover;

        margin-right: 10px;

    }

    .noticeuser {
        display: flex;
        flex-direction: row;
        justify-content: left;
        align-items: center;
    }

    .noticepicture {
        background-color: white;

        width: 500px;
        height: 502px;

        border-top: 1px solid black;
        border-bottom: 1px solid black;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .noticepicture_size {
        width: 500px;
        height: 500px;
    }


    .noticepostbottom {

        display: flex;
        flex-direction: column;
        justify-content: right;
        align-items: normal;

        margin: 10px;
    }

    .noticebtn_out {
        margin-top: 10px;

        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }

    .noticebtn_bottom {
        display: flex;
        flex-direction: row;
        align-items: normal;
    }


    .noticecomment {
        width: 500px;
        max-height: 200px;
        min-height: 100px;

        display: flex;
        flex-direction: column;
        justify-content: left;
        align-items: normal;

        margin-left: -10px;
        padding: 10px;
    }

    .noticepostbottom_tag {
        display: flex;
        flex-direction: row;
        align-items: normal;
    }

    .noticepostbottom_tag > a {
        margin-left: 10px;
    }

    .noticepostbottom_time {
        display: flex;
        flex-direction: column;
        justify-content: left;
        align-items: normal;

    }

    .modal-content {
        overflow-y: initial !important
    }

    .modal-body {
        height: 10000px;
        overflow-y: auto;
    }

    .noticecommentprofile {
        display: flex;
        flex-direction: row;
        justify-content: left;
        align-items: center;
    }

    .noticecomment_profile {
        width: 50px;
        height: 50px;

        border-radius: 100%;
        border: 1px solid black;


        background-position: center;
        background-size: cover;

        margin-right: 10px;
    }

    .noticecommenttext {
        max-height: 500px;
        max-width: 465px;

    }


</style>

<script>
    $(document).ready(function () {
        show_post();
    });

    function show_post() {
        $.ajax({
            type: "GET",
            url: "/main",
            data: {},
            success: function (response) {
                let rows = response['post_list']
                    console.log(rows)
                for (let i = 0; i < rows.length; i++) {
                    let id = rows[i]['user_pk']
                    let text = rows[i]['text']
                    let tags = rows[i]['tags']
                    let image = rows[i]['image']
                    let write_time = rows[i]['write_date']
                    let like = rows[i]['like']
                    let post = rows[i]['postwrite_pk']

                    let the_present_date = new Date();
                    let posts_write_time = new Date(write_time)
                    let time_comparison = the_present_date.getTime() - posts_write_time.getTime()

                    if ((time_comparison / (1000 * 60)) < 60) {
                        time = (time_comparison / (1000 * 60))
                        temp_time = `${parseInt(time)}Î∂Ñ Ï†Ñ`
                    } else if ((time_comparison / (1000 * 60 * 60)) < 24) {
                        time = (time_comparison / (1000 * 60 * 60))
                        temp_time = `${parseInt(time)}ÏãúÍ∞Ñ Ï†Ñ`
                    } else {
                        time = (time_comparison / (1000 * 60 * 60 * 24))
                        temp_time = `${parseInt(time)}Ïùº Ï†Ñ`
                    }

                    let temp_post = `<div id="post" class="post">
                                    <div class="card">
                                <div class="postimg">
                                    <a href='/post/${post}?post=${post}'>
                                        <img class="card-img-top" src=${image}
                                           alt="...">  </div>
                                    </a>
                                <div class="card-body">
                                    <h5 class="card-title">${id}</h5>
                                    <button class="like">‚ô°Ô∏è<h9>${like}</h9></button>
                                    <p class="card-text">${text}</p>
                                    <p class="card-text">  ${tags}   </p>
                                    <p> ${temp_time} </p>
                                </div></div></div>`
                    $('#post').append(temp_post)
                }
            }
        });
    }


</script>


<body>
<div class="all">
    <!--Î°úÍ≥†-->
    <div style="float:top;" class='top'>
        <h1 class='logo'>OOTD_GRAM</h1>
    </div>
    <!--Îí§Î°úÍ∞ÄÍ∏∞ Î≤ÑÌäº-->
{#    <div>#}
{#        <button onclick="history.back()" type="button" class="back-btn">üîô</button>#}
{#    </div>#}
    <!--Ïú†Ï†ÄÏïÑÏù¥Îîî Î∞è ÌîÑÎ°úÌïÑ-->
    <div>
        <h1 class="userid"> {{ user_id }} </h1> <!--comments_id -->
        <!-- comments_profile / ÎßàÏù¥ÌéòÏù¥ÏßÄ Ïù¥Îèô -->
        <button onclick="location.href='mypage'" class="profile" type="button"><img class="profile-photo"
                                                                                       src="https://newsimg.sedaily.com/2020/11/24/1ZAJ728KBG_1.jpg">
            <!--ÌîÑÎ°úÌïÑ-->
        </button>
    </div>
    <div class="middle"> <!--ÏÇ¨Ïù¥Í≥µÎ∞±-->
    </div>

    <div class="classificaftion">
        <div class="npbutton"> <!--Ï†ïÎ†¨Î≤ÑÌäº-->
            <button type="button" class="btn btn-success">NEW</button>
            <button type="button" class="btn btn-danger">POPULAR</button>
            <!--Í≤åÏãúÎ¨º ÏûëÏÑ± ÌéòÏù¥ÏßÄ Ïù¥Îèô-->
            <button onclick="location.href='postwrite/page'" class="upload" type="button" class="btn btn-dark">‚ûï</button>
        </div>
    </div>
    <!--Í≤åÏãúÎ¨ºÎ∞ïÏä§-->
<div class="posts-box">
    <div id="post" class="post">

    </div>
</div>


</div>


</div>

</div>
</body>
</html>